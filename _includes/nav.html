<nav class="site-nav">
  <button class="menu-toggle" aria-expanded="false" aria-controls="nav-links">Menu</button>
  <ul id="nav-links" class="links">
    {% for item in site.nav %}
      <li><a href="{{ item.url | relative_url }}" class="navlink" {% if page.url == item.url %}aria-current="page"{% endif %}>{{ item.title }}</a></li>
    {% endfor %}
    <li><a class="btn btn--nav" href="{{ "/contact/" | relative_url }}">Contact</a></li>
  </ul>
</nav>
<script>
  const navRoot = document.currentScript.previousElementSibling;
  const btn = navRoot.querySelector('.menu-toggle');
  const list = document.getElementById('nav-links');
  btn.addEventListener('click', () => {
    const open = btn.getAttribute('aria-expanded') === 'true';
    btn.setAttribute('aria-expanded', String(!open));
    list.classList.toggle('open');
  });
</script>
